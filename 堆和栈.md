## 堆和栈的区别  
## 栈区（stack）
由编译器自动分配释放，存放方法的参数值，局部变量的值等等。栈是向低地址扩展的数据结构，是一块连续的内存区域。栈顶的地址和栈的最大内存是系统预先规定好的。
## 堆区（heap）一般由程序员分配释放，若程序员不释放，程序结束时由OS回收，向高地址扩展的数据结构，是不连续的内存区域，从而堆获得的空间比较灵活。

* 碎片问题:对于堆来讲，频繁的new/delete 势必会造成内存空间的不连续，从而造成大量的碎片，使得程序效率低。对于栈来讲，不会造成这个问题，因为栈是FIFO的队列，他们是一一对应的关系，永远不可能有一个内存从栈的中间弹出。

* 分配方式:堆都是动态分配的，没有静态分配的堆。栈有两种分配方式，静态分配和动态分配。静态分配是由编译器完成的，比如说局部变量的分配。动态分配是有alloc函数进行分配，但是栈的动态分配和堆是不同的，他的动态分配是有编译器进行释放的，不用手工进行实现。

* 分配效率: 栈是机器系统提供的数据结构，计算机会在底层对栈提供支持：分配专门的寄存器存放栈的地址，压榨和出栈都有专门的指令执行，这就决定了栈的效率比较高。堆则是由C/C++函数库提供的，机制比较复杂。

* 全局区(static):全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另一块区域。由程序结束后进行释放。
* 文字常量区: 常量字符串就是存放在这里的，程序结束由系统进行释放。
* 程序代码区: 存放函数体的二进制代码
